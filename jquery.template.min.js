/*! Javascript Lazy Template 1.0 | MIT License | (c) Daniel Ševčík | www.webdevelopers.eu */
$.fn.template=function(e,t){function a(e,t){function a(e,t,a){var r;return r="string"==typeof e&&e.match("(\\$\\{|%24%7B)"+t+"(\\}|%7D)")?e.replace(new RegExp("\\$\\{"+t+"\\}","g"),a).replace(new RegExp("%24%7B"+t+"%7D","g"),a):a}function r(e,t,a,r){if(r[a])return t;r[a]=!0;var n=e.data("template:"+a);return"string"==typeof n?n:(e.data("template:"+a,t),t)}if("object"!=typeof e)throw console.log("replaceVars: Cannot replace variables inside the context",e,t),new Error("Cannot replace HTML variables.");var n=t.find('*[template^="["]').not(t.find('*[template^="["] *[template^="["]')),l=$.map(e,function(e,t){return'*[z-var*="'+t+' "]'}).join(", ");return t.find(l).not(n.find(l).add(n)).add(t.filter(l)).each(function(t,n){var l={},s=null,i={};$.each(e,function(e,t){for(var o=$(n),c=$.trim(o.attr("z-var")).split(","),f=0;f<c.length;f++){var p=$.trim(c[f]).split(/\s+/);if(p[0]==e||p[0]=="!"+e){var u=p[1]||".",m=!("object"==typeof t&&$.isEmptyObject(t)||$.isNumeric(t)&&!parseFloat(t)||!t);if(m="!"==p[0].substr(0,1)?!m:m,"?"==u)s=(null===s?!0:s)&&m;else if("!"==u)m||o.remove();else if("."==u)o.text(a(r(o,o.text(),u,l),e,t));else if("+"==u)o.html(t);else if("="==u)o.val(t);else if("."==u.substr(0,1)){var v=u.substr(1).replace("."," ");m?"undefined"==typeof i[u]&&o.addClass(v):(i[u]=!0,o.removeClass(v))}else"@"==u.substr(0,1)?"boolean"==$.type(t)?o.attr(u.substr(1),m?u.substr(1):null):o.attr(u.substr(1),a(r(o,o.attr(u.substr(1)),u,l),e,t)):console.log('Error: replaceVars(): invalid target "'+u+'" for variable "'+e+'" in "'+o.attr("z-var")+'"')}}}),null!==s&&$(n)[s?"show":"hide"]()}),n.each(function(){var t=$(this),a=t.attr("template").match(/^\[(.*)\]$/)[1],r=e[a];switch(t.siblings("[template-clone]").filter(function(){return $(this).attr("template-clone")==t.attr("template")}).remove(),$.type(r)){case"string":case"number":case"bool":case"object":r=[r];case"array":$.each(r,function(e,a){t.template($.isPlainObject(a)?a:{value:a})})}}),t}var r=$();if($.isArray(e))for(var n=0;n<e.length;n++)r.add($(this).template(e[n],t));else this.each(function(){var n=$(this),l="boolean"==typeof t?t:!n.is("[template]"),s=l?n:n.clone().addClass("template-clone").attr("template-clone",n.attr("template")),i=a(e,s).removeAttr("template");t||i.insertBefore(this),r=r.add(i)});return r};
//# sourceMappingURL=jquery.template.min.map