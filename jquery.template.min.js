/*! Javascript Lazy Template 1.0 | MIT License | (c) Daniel Ševčík | www.webdevelopers.eu */
$.fn.template=function(e,t){function a(e,t){function a(e,t,a){var r;return r="string"==typeof e&&e.match("(\\$\\{|%24%7B)"+t+"(\\}|%7D)")?e.replace(new RegExp("\\$\\{"+t+"\\}","g"),a).replace(new RegExp("%24%7B"+t+"%7D","g"),a):a}function r(e,t,a,r){if(r[a])return t;r[a]=!0;var n=e.data("template:"+a);return"string"==typeof n?n:(e.data("template:"+a,t),t)}if("object"!=typeof e)throw console.log("replaceVars: Cannot replace variables inside the context",e,t),new Error("Cannot replace HTML variables.");var n=t.find('*[template^="["]').not(t.find('*[template^="["] *[template^="["]')),i=$.map(e,function(e,t){return'*[z-var*="'+t+' "]'}).join(", ");return t.find(i).not(n.find(i).add(n)).add(t.filter(i)).each(function(t,n){var i={},l=null,s={};$.each(e,function(e,t){for(var o=$(n),c=$.trim(o.attr("z-var")).split(","),p=0;p<c.length;p++){var f=$.trim(c[p]).split(/\s+/);if("debugger"!=f[0]&&(f[0]==e||f[0]=="!"+e)){var u=f[1]||".",m=!("object"==typeof t&&$.isEmptyObject(t))&&!($.isNumeric(t)&&!parseFloat(t))&&t;m="!"==f[0].substr(0,1)?!m:m;var d=$.type(t).match(/string|number/)?t:"";if($.isArray(t)&&(t=t.length),"?"==u)l=(null===l||l)&&m;else if("!"==u)m||o.remove();else if("."==u)o.text(a(r(o,o.text(),u,i),e,d));else if("+"==u)o.html(t);else if("="==u)o.is(":checkbox, :radio")?o.prop("checked",$.type(t).match(/string|number/)?o.val()==d:m):o.val(t);else if("."==u.substr(0,1)){var h=u.substr(1).replace("."," ");m?"undefined"==typeof s[u]&&o.addClass(h):(s[u]=!0,o.removeClass(h))}else"@"==u.substr(0,1)?"boolean"==$.type(t)?o.attr(u.substr(1),m?u.substr(1):null):o.attr(u.substr(1),a(r(o,o.attr(u.substr(1)),u,i),e,d)):console.log('Error: replaceVars(): invalid target "'+u+'" for variable "'+e+'" in "'+o.attr("z-var")+'"')}}}),null!==l&&$(n)[l?"show":"hide"]()}),n.each(function(){var t=$(this),a=t.attr("template").match(/^\[(.*)\]$/)[1],r=e[a];if("undefined"!=typeof r&&null!==r)switch($.isEmptyObject(r)&&(r=[]),t.siblings("[template-clone]").filter(function(){return $(this).attr("template-clone")==t.attr("template")}).remove(),$.type(r)){case"string":case"number":case"bool":case"object":r=[r];case"array":$.each(r,function(e,a){t.template($.isPlainObject(a)?a:{value:a})})}}),t}var r=$();if($(this).add(r).trigger("template:before",[e,this,r,t]),$.isArray(e))for(var n=0;n<e.length;n++)r.add($(this).template(e[n],t));else this.each(function(){var n=$(this),i="boolean"==typeof t?t:!n.is("[template]"),l=i?n:n.clone().addClass("template-clone").attr("template-clone",n.attr("template")).insertBefore(this),s=a(e,l).removeAttr("template");r=r.add(s)});return $(this).add(r).trigger("template:after",[e,this,r,t]),r};
//# sourceMappingURL=jquery.template.min.map