/*! Javascript Lazy Template 1.0 | MIT License | (c) Daniel Ševčík | www.webdevelopers.eu */
$.fn.template=function(e,t){function a(e,t){function a(e,t,a){var r;return r="string"==typeof e&&e.match("(\\$\\{|%24%7B)"+t+"(\\}|%7D)")?e.replace(new RegExp("\\$\\{"+t+"\\}","g"),a).replace(new RegExp("%24%7B"+t+"%7D","g"),a):a}function r(e,t,a,r){if(r[a])return t;r[a]=!0;var n=e.data("template:"+a);return"string"==typeof n?n:(e.data("template:"+a,t),t)}if("object"!=typeof e)throw console.log("replaceVars: Cannot replace variables inside the context",e,t),new Error("Cannot replace HTML variables.");var n=t.find('*[template^="["]').not(t.find('*[template^="["] *[template^="["]')),l=$.map(e,function(e,t){return'*[z-var*="'+t+' "]'}).join(", ");return t.find(l).not(n.find(l).add(n)).add(t.filter(l)).each(function(t,n){var l={},s=null,i={};$.each(e,function(e,t){for(var o=$(n),c=$.trim(o.attr("z-var")).split(","),p=0;p<c.length;p++){var f=$.trim(c[p]).split(/\s+/);if("debugger"!=f[0]&&(f[0]==e||f[0]=="!"+e)){var d=f[1]||".",m=!("object"==typeof t&&$.isEmptyObject(t))&&!($.isNumeric(t)&&!parseFloat(t))&&t;m="!"==f[0].substr(0,1)?!m:m;var u=$.type(t).match(/string|number/)?t:"";if($.isArray(t)&&(u=t.length),"?"==d)s=(null===s||s)&&m;else if("!"==d)m||o.remove();else if("."==d)o.text(a(r(o,o.text(),d,l),e,u));else if("+"==d)o.html(t);else if("="==d)o.is(":checkbox, :radio")?o.prop("checked",$.type(t).match(/string|number/)?o.val()==u:m):o.val(t);else if("."==d.substr(0,1)){var h=d.substr(1).replace("."," ");m?"undefined"==typeof i[d]&&o.addClass(h):(i[d]=!0,o.removeClass(h))}else"@"==d.substr(0,1)?"boolean"==$.type(t)?o.attr(d.substr(1),m?d.substr(1):null):o.attr(d.substr(1),a(r(o,o.attr(d.substr(1)),d,l),e,u)):console.log('Error: replaceVars(): invalid target "'+d+'" for variable "'+e+'" in "'+o.attr("z-var")+'"')}}}),null!==s&&(s?($(n).removeClass("dna-template-hidden"),"none"==n.style.display&&$(n).css("display","")):$(n).addClass("dna-template-hidden"))}),n.each(function(){var t=$(this),a=t.attr("template").match(/^\[(.*)\]$/)[1],r=e[a];if("undefined"!=typeof r&&null!==r)switch($.isEmptyObject(r)&&(r=[]),t.siblings("[template-clone]").filter(function(){return $(this).attr("template-clone")==t.attr("template")}).remove(),$.type(r)){case"string":case"number":case"bool":case"object":r=[r];case"array":$.each(r,function(e,a){t.template($.isPlainObject(a)?a:{value:a})})}}),t}var r=$();if($(this).add(r).trigger("template:before",[e,this,r,t]),$.isArray(e))for(var n=0;n<e.length;n++)r.add($(this).template(e[n],t));else this.each(function(){var n=$(this),l="boolean"==typeof t?t:!n.is("[template]"),s=l?n:n.clone().addClass("template-clone").attr("template-clone",n.attr("template")).insertBefore(this),i=a(e,s).removeAttr("template");r=r.add(i)});return $(this).add(r).trigger("template:after",[e,this,r,t]),r};
//# sourceMappingURL=jquery.template.min.map